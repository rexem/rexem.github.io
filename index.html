<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>rexem</title>
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.4.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Fira+Mono' rel='stylesheet' type='text/css'>
	<style>
		/** Let's define some styling... Look ma', I'm an artist! **/
		body {
			background-color: #333333;
			color: #444;
			font-family: 'Fira Mono', 'Courier New';
			letter-spacing: 0; /** pretty sure that's default, but you never know... **/
			overflow: hidden; /** scrollbars are evil **/
		}
	</style>
</head>
<body>

<!-- where the magic happens... -->
<div id="the-box"></div>

<!-- all the (il)logic goes here: -->
<script>
$(function(){

	// in case I have something interesting to say
	function convertText(x, y, text, color) {
		for (var i = 0; i < text.length; i++) {
			$('#the-box .y-' + y + ' .x-' + (x + i))
				.text(text[i])
				.attr('style', 'color: ' + color);
		}
	}
	
	// make sure the screen is filled with beauty
	function rexSize(length) {
		// depends on the precise font, but (3*e)/5 should work
		var scalingFactor = 1.630969;
		var fontSize = Math.round($('#the-box').width() / (length / scalingFactor));
		
		// sadly we'll got with the dirtier path and use px
		$('#the-box').css('font-size', fontSize + 'px'); 
	}
	
	// in rexem we trust
	function rexemize(text, colorLevel) {
		// lets cache this, because... ...we can!
		var strLength = text[0].length; // forgot to check if text[0] isset, but oh well...
		
		// lets fill the screen
		var result = "\n"; // for confused Windows users: it's \r\n
		for (var y = 0; y < text.length; y++) {
			var row = "";
			for (var x = 0; x < text[y].length; x++) {
				row += '<span class="x-' + x + '">' + text[y][x] + '</span>';
			}
			result += '<div class="row y-' + y + '">' + row + '</div>' + "\n";
		}
		$('#the-box').html(result);
		
		// now it's time to color some random blocks
		// colorLevel should be around 1f, but hey, why are you listening to me, I'm just a code!
		var percent = (text.length * strLength) * colorLevel;
		for (i = 0; i < Math.floor(percent); i++) {
			var x = Math.floor(Math.random() * strLength);
			var y = Math.floor(Math.random() * text.length);
			var v = Math.max(Math.floor(Math.random() * 96), 50); // no need for dark/moody colors over here
			
			var color = 'rgb(' + [v,v,v].join(',') +');'; // the joys of rgb()
			
			var c = text[y][x];
			convertText(x, y, c, color);
		}
		
		// some yada yada text
		convertText(20, 2, "JUST", "#FFEEAA");
		convertText(30, 3, "YOUR", "#F0EEA0");
		convertText(35, 6, "AVERAGE", "#F0EEA0");
		convertText(44, 4, "GITHUB", "#D8DDF2");
		convertText(48, 5, "LURKER", "#F0EEA0");
		convertText(60, 9, "REXEM", "#FFFFFF");
		
		var deadbeaf = "#DEADBE"; //AF
		var coffee = "#C0FFEE"; // mmhmm... coffee...
		convertText(8, 12, "try", coffee);
		convertText(12, 12, "{", deadbeaf);
		convertText(12, 13, "return", coffee);
		convertText(19, 13, "true;", coffee);
		convertText(8, 14, "}", deadbeaf);
		convertText(10, 14, "finally", coffee);
		convertText(18, 14, "{", deadbeaf);
		convertText(12, 15, "return", coffee);
		convertText(19, 15, "false;", coffee);
		convertText(8, 16, "}", deadbeaf);
		
		// oops, my phone got flipped sideways... need to rerender (is that even a word?)
		$(window).resize(function(){
			rexSize(strLength);
		});
		rexSize(strLength);
	}
	
	// base123
	var message = [
		"SGKGDGHLCMUHDQPZB3UGANVZDCB1BMXVY2TLZCB0AGUGBWFZDGVYIGXLDMVSIG9MIGNVZGUGAW5ZCGVJDGLVBI4GV2VSBCB",
		"KB25LIQ0KSSBOB3BLIGRLY2LWAGVYAW5NIHROAXMGBWVZC2FNZSB3YXMGD29YDGGGAXQUDQPPACWGYW5KIGLMIHLVDSBOYX",
		"ZLIHNVBWUGAW50ZXJLC3RPBMCGCHJVAMVJDCB5B3UGD291BGQGBGLRZSB0BYBZAGFYZSBVCIBNZXQGBWUGAW52B2X2ZWQGA",
		"W4SIGXLDCBTZSBRBM93LIA6KQ0KDQOTLS0NCKLMIHLVDSBLEGN1C2UGBWUSIEKNBGWGAW5ZZXJ0IHNVBWUGZ2LIYMVYAXNO",
		"IGHLCMUGAW4GB3JKZXIGDG8GBWFRZSB0AGUGDMLZDWFSIHBHZ2UGBW9YZSBHCHBLYWXPBMCGYNKGAGF2AW5NIGJ1BMNOIG9",
		"MIGNOYXJHY3RLCNM6DQPMB3JLBSBPCHN1BSBKB2XVCIBZAXQGYW1LDCWGY29UC2VJDGV0DXIGYWRPCGLZY2LUZYBLBGL0LC",
		"BZZWQGZG8GZWL1C21VZCB0ZW1WB3IGAW5JAWRPZHVUDCB1DCBSYWJVCMUGZXQGZG9SB3JLIG1HZ25HIGFSAXF1YS4GVXQGZ",
		"W5PBSBHZCBTAW5PBSB2ZW5PYW0SIHF1AXMGBM9ZDHJ1ZCBLEGVYY2L0YXRPB24GDWXSYW1JBYBSYWJVCMLZIG5PC2KGDXQG",
		"YWXPCXVPCCBLECBLYSBJB21TB2RVIGNVBNNLCXVHDC4GRHVPCYBHDXRLIGLYDXJLIGRVBG9YIGLUIHJLCHJLAGVUZGVYAXQ",
		"GAW4GDM9SDXB0YXRLIHZLBGL0IGVZC2UGY2LSBHVTIGRVBG9YZSBLDSBMDWDPYXQGBNVSBGEGCGFYAWF0DXIUIEV4Y2VWDG",
		"V1CIBZAW50IG9JY2FLY2F0IGN1CGLKYXRHDCBUB24GCHJVAWRLBNQSIHN1BNQGAW4GY3VSCGEGCXVPIG9MZMLJAWEGZGVZZ",
		"XJ1BNQGBW9SBGL0IGFUAW0GAWQGZXN0IGXHYM9YDW0UDQPMB3JLBSBPCHN1BSBKB2XVCIBZAXQGYW1LDCWGY29UC2VJDGV0",
		"DXIGYWRPCGLZY2LUZYBLBGL0LCBZZWQGZG8GZWL1C21VZCB0ZW1WB3IGAW5JAWRPZHVUDCB1DCBSYWJVCMUGZXQGZG9SB3J",
		"LIG1HZ25HIGFSAXF1YS4GVXQGZW5PBSBHZCBTAW5PBSB2ZW5PYW0SIHF1AXMGBM9ZDHJ1ZCBLEGVYY2L0YXRPB24GDWXSYW",
		"1JBYBSYWJVCMLZIG5PC2KGDXQGYWXPCXVPCCBLECBLYSBJB21TB2RVIGNVBNNLCXVHDC4GRHVPCYBHDXRLIGLYDXJLIGRVB",
		"G9YIGLUIHJLCHJLAGVUZGVYAXQGAW4GDM9SDXB0YXRLIHZLBGL0IGVZC2UGY2LSBHVTIGRVBG9YZSBLDSBMDWDPYXQGBNVS",
		"BGEGCGFYAWF0DXIUIEV4Y2VWDGV1CIBZAW50IG9JY2FLY2F0IGN1CGLKYXRHDCBUB24GCHJVAWRLBNQSIHN1BNQGAW4GY3V",
		"SCGEGCXVPIG9MZMLJAWEGZGVZZXJ1BNQGBW9SBGL0IGFUAW0GAWQGZXN0IGXHYM9YDW0UDQPMB3JLBSBPCHN1BSBKB2XVCI",
		"BZAXQGYW1LDCWGY29UC2VJDGV0DXIGYWRPCGLZY2LUZYBLBGL0LCBZZWQGZG8GZWL1C21VZCB0ZW1WB3IGAW5JAWRPZHVUD",
		"CB1DCBSYWJVCMUGZXQGZG9SB3JLIG1HZ25HIGFSAXF1YS4GVXQGZW5PBSBHZCBTAW5PBSB2ZW5PYW0SIHF1AXMGBM9ZDHJ1",
		"ZCBLEGVYY2L0YXRPB24GDWXSYW1JBYBSYWJVCMLZIG5PC2KGDXQGYWXPCXVPCCBLECBLYSBJB21TB2RVIGNVBNNLCXVHDC4",
		"GRHVPCYBHDXRLIGLYDXJLIGRVBG9YIGLUIHJLCHJLAGVUZGVYAXQGAW4GDM9SDXB0YXRLIHZLBGL0IGVZC2UGY2LSBHVTIG",
		"RVBG9YZSBLDSBMDWDPYXQGBNVSBGEGCGFYAWF0DXIUIEV4Y2VWDGV1CIBZAW50IG9JY2FLY2F0IGN1CGLKYXRHDCBUB24GC",
		"HJVAWRLBNQSIHN1BNQGAW4GY3VSCGEGCXVPIG9MZMLJAWEGZGVZZXJ1BNQGBW9SBGL0IGFUAW0GAWQGZXN0IGXHYM9YDW0U"
		, // repeat:
		"SGKGDGHLCMUHDQPZB3UGANVZDCB1BMXVY2TLZCB0AGUGBWFZDGVYIGXLDMVSIG9MIGNVZGUGAW5ZCGVJDGLVBI4GV2VSBCB",
		"KB25LIQ0KSSBOB3BLIGRLY2LWAGVYAW5NIHROAXMGBWVZC2FNZSB3YXMGD29YDGGGAXQUDQPPACWGYW5KIGLMIHLVDSBOYX",
		"ZLIHNVBWUGAW50ZXJLC3RPBMCGCHJVAMVJDCB5B3UGD291BGQGBGLRZSB0BYBZAGFYZSBVCIBNZXQGBWUGAW52B2X2ZWQGA",
		"W4SIGXLDCBTZSBRBM93LIA6KQ0KDQOTLS0NCKLMIHLVDSBLEGN1C2UGBWUSIEKNBGWGAW5ZZXJ0IHNVBWUGZ2LIYMVYAXNO",
		"IGHLCMUGAW4GB3JKZXIGDG8GBWFRZSB0AGUGDMLZDWFSIHBHZ2UGBW9YZSBHCHBLYWXPBMCGYNKGAGF2AW5NIGJ1BMNOIG9",
		"MIGNOYXJHY3RLCNM6DQPMB3JLBSBPCHN1BSBKB2XVCIBZAXQGYW1LDCWGY29UC2VJDGV0DXIGYWRPCGLZY2LUZYBLBGL0LC",
		"BZZWQGZG8GZWL1C21VZCB0ZW1WB3IGAW5JAWRPZHVUDCB1DCBSYWJVCMUGZXQGZG9SB3JLIG1HZ25HIGFSAXF1YS4GVXQGZ",
		"W5PBSBHZCBTAW5PBSB2ZW5PYW0SIHF1AXMGBM9ZDHJ1ZCBLEGVYY2L0YXRPB24GDWXSYW1JBYBSYWJVCMLZIG5PC2KGDXQG",
		"YWXPCXVPCCBLECBLYSBJB21TB2RVIGNVBNNLCXVHDC4GRHVPCYBHDXRLIGLYDXJLIGRVBG9YIGLUIHJLCHJLAGVUZGVYAXQ",
		"GAW4GDM9SDXB0YXRLIHZLBGL0IGVZC2UGY2LSBHVTIGRVBG9YZSBLDSBMDWDPYXQGBNVSBGEGCGFYAWF0DXIUIEV4Y2VWDG",
		"V1CIBZAW50IG9JY2FLY2F0IGN1CGLKYXRHDCBUB24GCHJVAWRLBNQSIHN1BNQGAW4GY3VSCGEGCXVPIG9MZMLJAWEGZGVZZ",
		"XJ1BNQGBW9SBGL0IGFUAW0GAWQGZXN0IGXHYM9YDW0UDQPMB3JLBSBPCHN1BSBKB2XVCIBZAXQGYW1LDCWGY29UC2VJDGV0",
		"DXIGYWRPCGLZY2LUZYBLBGL0LCBZZWQGZG8GZWL1C21VZCB0ZW1WB3IGAW5JAWRPZHVUDCB1DCBSYWJVCMUGZXQGZG9SB3J",
		"LIG1HZ25HIGFSAXF1YS4GVXQGZW5PBSBHZCBTAW5PBSB2ZW5PYW0SIHF1AXMGBM9ZDHJ1ZCBLEGVYY2L0YXRPB24GDWXSYW",
		];
	
	// .....and we're ready to render!
	rexemize(message, 1);
	
	// I lied... we still need to resize the screen
	rexSize();
});
</script>

<!-- GC.Collect(GC.MaxGeneration, GCCollectionMode.Forced); -->
</body>
</html>